 
# 中醫藥材療效效力值自動推論系統。

透過分析方劑之配伍結構，推導出同療效藥材間之偏序關係，依據此關係依序給定藥材療效效力值。

1. 根據陳建萍編著《方劑學》中共90例方劑，並參照中醫書籍及網站進行藥材及療效的標準化，分析並學習藥材配伍之理論。

2. 將一方劑中相同療效之藥材依照兩個要點整理成一偏序序列：

* 君藥是針對主病或主證起主要治療作用的藥物，其藥力居方中之首，因此同方劑同療效中的藥材效力值為：君藥 > 臣藥 > 佐藥 > 使藥。
* 在一方劑中某藥材被選中，視此藥材的效力優於其他具相同療效，但未被此方劑選用的藥材。

依照上述要點，分析所有方劑後，最終我們會得到數個針對不同療效之偏序集合。再參考楊京樺《基於多目標最佳化的中醫虛證針灸處方系統的研製》的級距給予效力值。   

3. 實作方面使用有向圖表示藥材間的次序關係，再利用拓撲排序的概念來給定效力值。拓撲排序請參考：[Topological Ordering](https://web.ntnu.edu.tw/~algo/DirectedAcyclicGraph.html)，利用拓撲排序進行排序時圖中不得有環，因此在繪製有向圖時，除了記錄方劑中有被選用之藥材外，我們優先保留同一方劑中有被選中之藥材間的次序關係，而刪除掉未提及的關係，以此來避免產生環。

4. 將此研究結果與目前由中醫師判定之效力值、以及清冠一號方劑進行比對，我們認為從方劑中分析藥材療效來做為推論效力值的基準有一定參考性，不過由於仍然存在系統尚不足之處，未來希望可以蒐集更多方劑，使中藥材與療效集合能夠更加完善。
